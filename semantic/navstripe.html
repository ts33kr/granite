<!DOCTYPE html><html lang="en"><head><title>semantic/navstripe</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="semantic/navstripe"><meta name="groc-project-path" content="library/semantic/navstripe.coffee"><meta name="groc-github-url" content="https://github.com/ts33kr/granite"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/ts33kr/granite/blob/master/library/semantic/navstripe.coffee">library/semantic/navstripe.coffee</a></div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><p>Copyright (c) 2013, Alexander Cherniuk <a href="&#109;&#97;&#x69;&#108;&#x74;&#x6f;:&#116;&#115;3&#51;&#107;&#114;&#64;&#x67;&#x6d;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#109;">&#116;&#115;3&#51;&#107;&#114;&#64;&#x67;&#x6d;&#97;&#105;&#x6c;&#46;&#99;&#x6f;&#109;</a>
All rights reserved.</p>

<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>

<ol>
<li>Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</li>
</ol>

<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p></div></div><div class="code"><div class="wrapper"><span class="nv">_ = </span><span class="nx">require</span> <span class="s">&quot;lodash&quot;</span>
<span class="nv">teacup = </span><span class="nx">require</span> <span class="s">&quot;teacup&quot;</span>
<span class="nv">assert = </span><span class="nx">require</span> <span class="s">&quot;assert&quot;</span>

<span class="p">{</span><span class="nx">Widget</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span> <span class="s">&quot;./abstract&quot;</span>
<span class="p">{</span><span class="nx">Archetype</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span> <span class="s">&quot;../nucleus/arche&quot;</span>
<span class="p">{</span><span class="nx">remote</span><span class="p">,</span> <span class="nx">cc</span><span class="p">}</span> <span class="o">=</span> <span class="nx">require</span> <span class="s">&quot;../membrane/remote&quot;</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>This frontend widget implements a simple navigation bar for the
generic use. The HTML markup (and therefore the exterior looks)
is driven by the Semantic-UI framework. The widget provides not
just the markup skeleton, but also some shortcutting of usually
used layouts for the navigation bars that will allow to quickly
create the navigation menus without too much hassle involved.</p></div></div><div class="code"><div class="wrapper"><span class="nv">module.exports.NavStripe = </span><span class="nx">cc</span> <span class="nf">-&gt;</span> <span class="k">class</span> <span class="nx">NavStripe</span> <span class="k">extends</span> <span class="nx">Widget</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Bring the tags definitions of the <code>Teacup</code> template engine
to the current class scope on the client and server sites.
Remember, that the <code>teacup</code> symbol is constantly available
on both sites, respecitvely. Also, take into consideration
that when you need a client-site template in the service,
this is all done automatically and there if no need for it.
Please see the <code>TemplateToolkit</code> class for more information.</p></div></div><div class="code"><div class="wrapper">    <span class="p">{</span><span class="nx">div</span><span class="p">}</span> <span class="o">=</span> <span class="nx">teacup</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>This prototype definition is a template-function driven by
the <code>Teacup</code> templating engine. When widget instantiated,
this defintion is used to render the root DOM element of
the widget and store it in the widget instance under the
instance variable with the same name of <code>element</code>. Please
refer to the <code>TemplateToolkit</code> class for an information.
Also, please refer to the <code>Teacup</code> manual for reference.</p></div></div><div class="code"><div class="wrapper">    <span class="nv">element: </span><span class="nf">-&gt;</span> <span class="nx">div</span> <span class="s">&quot;.ui.pointing.menu&quot;</span><span class="p">,</span> <span class="nf">-&gt;</span> <span class="nx">div</span> <span class="s">&quot;.right.menu&quot;</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Insert a dropdown menu into the navigation stipre. Menu
is a dropdown list with a set of options to select one
of those to be active. Name and options must be given.
An actor should be a function that will be invoked if
one of the menu options is chosen (being clicked on).
The <code>href</code> can be a navagiation link (usually hashy).</p></div></div><div class="code"><div class="wrapper">    <span class="nx">@subwidget</span> <span class="nv">menuOption: </span><span class="nf">(name, options, href, actor) -&gt;</span>
        <span class="nv">href = </span><span class="s">&quot;</span><span class="err">#</span><span class="s">&quot;</span> <span class="k">unless</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span> <span class="nx">href</span> <span class="o">or</span> <span class="kc">undefined</span>
        <span class="nv">incorrect = </span><span class="s">&quot;if present, actor must be function&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">name</span><span class="p">),</span> <span class="s">&quot;missing the item name&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">options</span><span class="p">),</span> <span class="s">&quot;options must be array&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">href</span><span class="p">),</span> <span class="s">&quot;missing link reference&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">actor</span><span class="p">),</span> <span class="nx">incorrect</span> <span class="k">if</span> <span class="nx">actor</span><span class="o">?</span>
        <span class="nx">assert</span> <span class="nv">icon = </span><span class="nx">$</span> <span class="s">&quot;&lt;i&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;icon dropdown&quot;</span>
        <span class="nx">assert</span> <span class="nv">item = </span><span class="nx">$</span> <span class="s">&quot;&lt;div&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;ui item dropdown&quot;</span>
        <span class="nx">assert</span> <span class="nv">submenu = </span><span class="nx">$</span> <span class="s">&quot;&lt;div&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;menu navsub&quot;</span>
        <span class="nx">assert</span> <span class="nx">item</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">name</span><span class="p">.</span><span class="nx">toString</span><span class="p">()).</span><span class="nx">append</span><span class="p">(</span><span class="nx">icon</span><span class="p">)</span>
        <span class="nv">xh = </span><span class="nf">(node, o) -&gt;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">attr</span> <span class="nv">href: </span><span class="s">&quot;</span><span class="si">#{</span><span class="nx">href</span><span class="si">}</span><span class="s">/</span><span class="si">#{</span><span class="nx">o</span><span class="si">}</span><span class="s">&quot;</span>
        <span class="nv">ai = </span><span class="nf">(node, o) -&gt;</span> <span class="nx">node</span><span class="p">.</span><span class="nx">text</span> <span class="nx">o</span><span class="p">;</span> <span class="nx">xh</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">o</span><span class="p">);</span> <span class="nx">node</span>
        <span class="nv">sm = </span><span class="nf">(e) -&gt;</span> <span class="nx">submenu</span><span class="p">.</span><span class="nx">append</span> <span class="nx">e</span><span class="p">;</span> <span class="nx">e</span><span class="p">.</span><span class="nx">on</span> <span class="s">&quot;click&quot;</span><span class="p">,</span> <span class="nx">actor</span>
        <span class="nx">sm</span> <span class="nx">ai</span> <span class="nx">$</span><span class="p">(</span><span class="s">&quot;&lt;a&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;item&quot;</span><span class="p">),</span> <span class="nx">o</span> <span class="k">for</span> <span class="nx">o</span> <span class="k">in</span> <span class="nx">options</span>
        <span class="nv">rightMenu = </span><span class="o">=&gt;</span> <span class="k">return</span> <span class="nx">@element</span><span class="p">.</span><span class="nx">find</span> <span class="s">&quot;.right.menu&quot;</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">submenu</span><span class="p">).</span><span class="nx">appendTo</span> <span class="nx">rightMenu</span><span class="p">()</span>
        <span class="nx">$</span><span class="p">(</span><span class="nx">item</span><span class="p">).</span><span class="nx">dropdown</span><span class="p">();</span> <span class="k">return</span> <span class="nx">item</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Insert a generic text input into the navigation stripe.
This would typically be used for implementing a global
kind of search. A synopsis (placeholder) must be given.
An actor - is optional function invoked once the input
is being activated. You can supply the optional icon.
The <code>href</code> can be a navagiation link (usually hashy).</p></div></div><div class="code"><div class="wrapper">    <span class="nx">@subwidget</span> <span class="nv">menuInput: </span><span class="nf">(synopsis, icon, href, actor) -&gt;</span>
        <span class="nv">icon = </span><span class="s">&quot;search&quot;</span> <span class="k">unless</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span> <span class="nx">icon</span> <span class="o">or</span> <span class="kc">no</span>
        <span class="nv">href = </span><span class="s">&quot;</span><span class="err">#</span><span class="s">&quot;</span> <span class="k">unless</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span> <span class="nx">href</span> <span class="o">or</span> <span class="kc">undefined</span>
        <span class="nv">incorrect = </span><span class="s">&quot;if present, actor must be function&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">synopsis</span><span class="p">),</span> <span class="s">&quot;missing the synopsis&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">icon</span><span class="p">),</span> <span class="s">&quot;missing an icon class&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">href</span><span class="p">),</span> <span class="s">&quot;missing link reference&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">actor</span><span class="p">),</span> <span class="nx">incorrect</span> <span class="k">if</span> <span class="nx">actor</span><span class="o">?</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span> <span class="nv">item = </span><span class="nx">$</span> <span class="s">&quot;&lt;div&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;item&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span> <span class="nv">input = </span><span class="nx">$</span> <span class="s">&quot;&lt;input&gt;&quot;</span><span class="p">,</span> <span class="nv">type: </span><span class="s">&quot;text&quot;</span>
        <span class="nx">assert</span> <span class="nv">wrapper = </span><span class="nx">$</span> <span class="s">&quot;&lt;div&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;ui icon input&quot;</span>
        <span class="nx">assert</span> <span class="nv">icon = </span><span class="nx">$</span> <span class="s">&quot;&lt;i&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;icon </span><span class="si">#{</span><span class="nx">icon</span><span class="si">}</span><span class="s"> link&quot;</span>
        <span class="nx">do</span> <span class="nf">-&gt;</span> <span class="nx">input</span><span class="p">.</span><span class="nx">attr</span> <span class="nv">placeholder: </span><span class="nx">synopsis</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
        <span class="nx">wrapper</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">icon</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="c1"># assemble it</span>
        <span class="nx">icon</span><span class="p">.</span><span class="nx">on</span> <span class="s">&quot;click&quot;</span><span class="p">,</span> <span class="nf">-&gt;</span> <span class="nx">actor</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">button</span> <span class="k">if</span> <span class="nx">actor</span>
        <span class="nx">icon</span><span class="p">.</span><span class="nx">on</span> <span class="s">&quot;click&quot;</span><span class="p">,</span> <span class="nf">-&gt;</span> <span class="nx">location</span><span class="o">?</span><span class="p">.</span><span class="nv">href = </span><span class="nx">href</span> <span class="k">if</span> <span class="nx">href</span>
        <span class="nv">rightMenu = </span><span class="o">=&gt;</span> <span class="k">return</span> <span class="nx">@element</span><span class="p">.</span><span class="nx">find</span> <span class="s">&quot;.right.menu&quot;</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">).</span><span class="nx">appendTo</span> <span class="nx">rightMenu</span><span class="p">();</span> <span class="nx">item</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Insert a button in the navigation stripe. It will be
placed to the right part of the navigation stripe and
will be implicitly separated with the vertical line.
The name should be given, while the color is optional.
The actor may be invoked once the button being clicked.
The <code>href</code> can be a navagiation link (usually hashy).</p></div></div><div class="code"><div class="wrapper">    <span class="nx">@subwidget</span> <span class="nv">menuButton: </span><span class="nf">(name, color, href, actor) -&gt;</span>
        <span class="nv">color = </span><span class="nb">String</span><span class="p">()</span> <span class="k">unless</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span> <span class="nx">color</span> <span class="o">or</span> <span class="kc">no</span>
        <span class="nv">href = </span><span class="s">&quot;</span><span class="err">#</span><span class="s">&quot;</span> <span class="k">unless</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span> <span class="nx">href</span> <span class="o">or</span> <span class="kc">undefined</span>
        <span class="nv">incorrect = </span><span class="s">&quot;if present, actor must be function&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">name</span><span class="p">),</span> <span class="s">&quot;missing a button name&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">color</span><span class="p">),</span> <span class="s">&quot;missing a color class&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">href</span><span class="p">),</span> <span class="s">&quot;missing link reference&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">actor</span><span class="p">),</span> <span class="nx">incorrect</span> <span class="k">if</span> <span class="nx">actor</span><span class="o">?</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span> <span class="nv">item = </span><span class="nx">$</span> <span class="s">&quot;&lt;div&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;item&quot;</span>
        <span class="nv">rightMenu = </span><span class="o">=&gt;</span> <span class="k">return</span> <span class="nx">@element</span><span class="p">.</span><span class="nx">find</span> <span class="s">&quot;.right.menu&quot;</span>
        <span class="nv">button = </span><span class="nx">$</span> <span class="s">&quot;&lt;div&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;ui </span><span class="si">#{</span><span class="nx">color</span><span class="si">}</span><span class="s"> button&quot;</span>
        <span class="nx">button</span><span class="p">.</span><span class="nx">on</span> <span class="s">&quot;click&quot;</span><span class="p">,</span> <span class="nf">-&gt;</span> <span class="nx">actor</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">button</span> <span class="k">if</span> <span class="nx">actor</span>
        <span class="nx">button</span><span class="p">.</span><span class="nx">on</span> <span class="s">&quot;click&quot;</span><span class="p">,</span> <span class="o">=&gt;</span> <span class="nx">@emit</span> <span class="s">&quot;action&quot;</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">button</span>
        <span class="nx">button</span><span class="p">.</span><span class="nx">attr</span> <span class="nv">href: </span><span class="nx">href</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="k">if</span> <span class="nx">href</span> <span class="o">or</span> <span class="kc">null</span>
        <span class="nx">button</span><span class="p">.</span><span class="nx">text</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="c1"># set button texting</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">button</span><span class="p">).</span><span class="nx">appendTo</span> <span class="nx">rightMenu</span><span class="p">();</span> <span class="nx">item</span></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>Insert a new menu item into the navigation stripe. It
should have a name string and an icon assigned to it.
This is the selectible (set/unset active) visual item.
Menu items are the primary items to use for navigation.
Optional actor function will be called upon activation.
The <code>href</code> can be a navagiation link (usually hashy).</p></div></div><div class="code"><div class="wrapper">    <span class="nx">@subwidget</span> <span class="nv">menuItem: </span><span class="nf">(name, icon, href, actor) -&gt;</span>
        <span class="nv">href = </span><span class="s">&quot;</span><span class="err">#</span><span class="s">&quot;</span> <span class="k">unless</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span> <span class="nx">href</span> <span class="o">or</span> <span class="kc">undefined</span>
        <span class="nv">incorrect = </span><span class="s">&quot;if present, actor must be function&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">name</span><span class="p">),</span> <span class="s">&quot;missing the item name&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">icon</span><span class="p">),</span> <span class="s">&quot;missing an icon class&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">href</span><span class="p">),</span> <span class="s">&quot;missing link reference&quot;</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">actor</span><span class="p">),</span> <span class="nx">incorrect</span> <span class="k">if</span> <span class="nx">actor</span><span class="o">?</span>
        <span class="nx">assert</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span> <span class="nv">item = </span><span class="nx">$</span> <span class="s">&quot;&lt;a&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;item&quot;</span>
        <span class="nv">actives = </span><span class="o">=&gt;</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">find</span> <span class="s">&quot;.active&quot;</span>
        <span class="nv">deactivate = </span><span class="nf">-&gt;</span> <span class="nx">actives</span><span class="p">().</span><span class="nx">removeClass</span> <span class="s">&quot;active&quot;</span>
        <span class="nv">reactivate = </span><span class="nf">-&gt;</span> <span class="k">return</span> <span class="nx">item</span><span class="p">.</span><span class="nx">addClass</span> <span class="s">&quot;active&quot;</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">on</span> <span class="s">&quot;click&quot;</span><span class="p">,</span> <span class="nf">-&gt;</span> <span class="nx">deactivate</span><span class="p">();</span> <span class="nx">reactivate</span><span class="p">()</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">on</span> <span class="s">&quot;click&quot;</span><span class="p">,</span> <span class="nf">-&gt;</span> <span class="nx">actor</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">actives</span> <span class="k">if</span> <span class="nx">actor</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">on</span> <span class="s">&quot;click&quot;</span><span class="p">,</span> <span class="o">=&gt;</span> <span class="nx">@emit</span> <span class="s">&quot;route&quot;</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">actives</span>
        <span class="nx">assert</span> <span class="nv">icon = </span><span class="k">try</span> <span class="nx">$</span> <span class="s">&quot;&lt;i&gt;&quot;</span><span class="p">,</span> <span class="k">class</span><span class="o">:</span> <span class="s">&quot;icon </span><span class="si">#{</span><span class="nx">icon</span><span class="si">}</span><span class="s">&quot;</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">attr</span> <span class="nv">href: </span><span class="nx">href</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="k">if</span> <span class="nx">href</span> <span class="o">or</span> <span class="kc">null</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">appendTo</span> <span class="nx">@element</span> <span class="c1"># add to widget container</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">icon</span><span class="p">).</span><span class="nx">append</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span> <span class="nx">item</span></div></div></div></div></body></html>